<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bday Letter fo You ðŸ’Œ</title>
    <link rel="icon" type="image/png" href="cat.png">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    
    <style>
      /* ... (Semua Style CSS Anda di sini) ... */
      
      /* ========================================================= */
      /* BAGIAN INI SUDAH DIUBAH AGAR BACKGROUND SAMA DENGAN game.html */
      /* ========================================================= */
      body { 
        display: flex; 
        justify-content: center; 
        align-items: center; 
        height: 100vh; 
        position: relative; 
        overflow: hidden; 
        
        /* KODE DARI game.html */
        background: linear-gradient(-45deg, #fee9f7, #e8f5fe, #fef2e8, #f0ffe8);
        background-size: 400% 400%;
        animation: gradientShift 15s ease infinite;
      }
      
      /* KEYFRAME DARI game.html */
      @keyframes gradientShift{
        0%{background-position:0% 50%}
        50%{background-position:100% 50%}
        100%{background-position:0% 50%}
      }
      /* ========================================================= */
      
      .container { position: relative; margin-bottom: 50px; z-index: 20; }
      .valentines { position: relative; top: 50px; cursor: pointer; animation: up 3s linear infinite; transition: transform 1s ease-in-out, opacity 1s ease-in-out; }
      .valentines.shrink { transform: scale(0.1) translateY(500px); opacity: 0; cursor: default; }
      @keyframes up { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-30px); } }
      .envelope { position: relative; width: 300px; height: 200px; background-color: #f08080; }
      .envelope:before { background-color: #f08080; content: ""; position: absolute; width: 212px; height: 212px; transform: rotate(45deg); top: -105px; left: 44px; border-radius: 30px 0 0 0; }
      .card { position: absolute; background-color: #eae2b7; width: 270px; height: 170px; top: 10px; left: 15px; box-shadow: -5px -5px 100px rgba(0, 0, 0, 0.4); }
      .card:before { content: ""; position: absolute; border: 3px solid #003049; border-style: dotted; width: 240px; height: 140px; left: 12px; top: 12px; }
      .text { position: absolute; font-family: "Brush Script MT", cursive; font-size: 28px; text-align: center; line-height: 25px; top: 20px; left: 60px; color: #003049; }
      .heart { background-color: #d62828; display: flex; justify-content: center; align-items: center; height: 30px; margin: 0 10px; position: relative; top: 117px; left: 110px; transform: rotate(-45deg); width: 30px; z-index: 1; color: #fff; font-size: 8px; font-weight: bold; cursor: pointer; text-shadow: 0 0 2px rgba(0, 0, 0, 0.5); }
      .heart:before, .heart:after { content: ""; background-color: #d62828; border-radius: 60%; height: 30px; position: absolute; width: 30px; z-index: -1; }
      .heart:before { top: -15px; left: 0; } .heart:after { left: 15px; top: 0; }
      .front { position: absolute; border-right: 180px solid #f4978e; border-top: 95px solid transparent; border-bottom: 100px solid transparent; left: 120px; top: 5px; width: 0; height: 0; z-index: 10; }
      .front:before { position: absolute; content: ""; border-left: 300px solid #f8ad9d; border-top: 195px solid transparent; left: -120px; top: -95px; width: 0; height: 0; }
      .hearts { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 5; }
      .one, .two, .three, .four, .five { background-color: red; display: inline-block; height: 10px; margin: 0 10px; position: relative; transform: rotate(-45deg); width: 10px; top: 50px; }
      .one:before, .one:after, .two:before, .two:after, .three:before, .three:after, .four:before, .four:after, .five:before, .five:after { content: ""; background-color: red; border-radius: 50%; height: 10px; position: absolute; width: 10px; }
      .one:before, .two:before, .three:before, .four:before, .five:before { top: -5px; left: 0; } .one:after, .two:after, .three:after, .four:after, .five:after { left: 5px; top: 0; }
      .one { left: 10px; animation: heart 1s ease-out infinite; } .two { left: 30px; animation: heart 2s ease-out infinite; } .three { left: 50px; animation: heart 1.5s ease-out infinite; } .four { left: 70px; animation: heart 2.3s ease-out infinite; } .five { left: 90px; animation: heart 1.7s ease-out infinite; }
      @keyframes heart { 0% { transform: translateY(0) rotate(-45deg) scale(0.3); opacity: 1; } 100% { transform: translateY(-150px) rotate(-45deg) scale(1.3); opacity: 0.5; } }
      .shadow { position: absolute; width: 330px; height: 25px; border-radius: 50%; background-color: rgba(0, 0, 0, 0.3); top: 65%; left: 50%; transform: translateX(-50%); animation: scale 3s linear infinite; z-index: -1; }
      @keyframes scale { 0%, 100% { transform: translateX(-50%) scaleX(1); } 50% { transform: translateX(-50%) scaleX(0.85); } }
      .letter-fullscreen { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background-color: #fff; z-index: 10; display: none; padding: 50px 10%; box-sizing: border-box; overflow-y: auto; font-family: Georgia, serif; line-height: 1.6; opacity: 0; transition: opacity 1s ease-in-out; }
      .letter-fullscreen.show { opacity: 1; }
      .letter-content { max-width: 800px; margin: 0 auto; text-align: justify; color: #333; }
      .image-placeholder { text-align: center; margin: 30px 0; }
      .image-placeholder img { max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); }
      .letter-fullscreen h1 { font-family: 'Brush Script MT', cursive; font-size: 3em; color: #d62828; text-align: center; margin-bottom: 30px; }
      .letter-content p { margin-bottom: 1.5em; text-indent: 30px; }
      .signature { text-align: right; margin-top: 40px; font-style: italic; }
      /* ... (Style lainnya) ... */
      .home-button {
        display: inline-block;
        padding: 12px 25px;
        font-size: 1.1rem;
        font-weight: bold;
        text-decoration: none;
        color: white;
        background: linear-gradient(45deg, #d62828, #f08080); /* Merah/Pink yang serasi */
        border-radius: 50px;
        box-shadow: 0 4px 15px rgba(214, 40, 40, 0.4);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        cursor: pointer;
    }

     .home-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(214, 40, 40, 0.6);
    }
    </style>
  </head>
  <body>
    <audio id="openingSound" src="aud.mp3" preload="auto"></audio>

    <div class="container">
      <div class="valentines">
        <div class="envelope"></div>
        <div class="front"></div>
        <div class="card">
          <div class="text">Happy Birthday<br />Marem<br />I love You!</div>
          <div class="heart">CLICK</div> 
        </div>
        <div class="hearts">
          <div class="one"></div>
          <div class="two"></div>
          <div class="three"></div>
          <div class="four"></div>
          <div class="five"></div>
        </div>
      </div>
    </div>
    <div class="shadow"></div> 
    
    <div class="letter-fullscreen">
        <div class="letter-content">
            <h1>To My Beloved Marem</h1>
            <h2>Happy Birthday...</h2>
            
            <p>Iâ€™m writing this because sometimes, even the best video chat or even one of your hilarious texts canâ€™t quite capture how much your friendship means to me and your smile is a radiant reflection of your kind heart and positive energy. Every moment we've shared from the silliest little things to our biggest teenage adventures has genuinely made me a better person. Thank you for always being there for me, even from a distance, and for filling my daily life with so much fun and warmth.</p>
            
            <div class="image-placeholder">
                <img src="gif1.gif" alt="GIF untuk Paragraf 1">
            </div>
            
            <p>I still smile when I think about how we first met, all because of that editing packs giveaway LMAOOO. Itâ€™s funny how a random online things led to you tagging me in all your incredible edits, and me doing the same for you! And then there are the memories from last year, especially when fall turned into snow season you wouldnâ€™t stop sending me pictures of the snow. Those little snapshots of your world, even from a distance, mean everything. That spirit of yours is something Iâ€™ve always admired.</p>
            
            <div class="image-placeholder">
                <img src="gif2.gif" alt="GIF untuk Paragraf 2">
            </div>
            
            <p>I hope all your 19th birthday wishes come true. Even though weâ€™re apart right now, please know that I am always here, cheering you on. I promise to be the reliable shoulder you can always lean on, the hand that will help you back up when you stumble, and the friend who is always ready to hear your story no matter how long or complicated it is.</p>
            
            <div class="image-placeholder">
                <img src="gif3.gif" alt="GIF untuk Paragraf 3">
            </div>
            
            <p>Ahhh okaay this is my last sentences, Iâ€™m looking forward to all the new memories weâ€™ll make and the next time we can celebrate together. Wishing you the happiest day! Happy Birthday, Marem!</p>
            
            <p class="signature">Your faraway friend from Indonesia.</p>
            <p class="signature">Aki ðŸ¥³</p>

            <div style="text-align: center; margin-top: 50px; margin-bottom: 50px;">
             <a href="indeks.html" class="home-button">
                 ðŸŽ‰ Finish and Go Home ðŸŽ‰
            </a>
         </div>
    </div>
    
    <script>
      $(document).ready(function () {
        const $container = $(".container");
        const $card = $(".card");
        const $valentines = $(".valentines");
        const $heart = $(".heart");
        const $fullscreenLetter = $(".letter-fullscreen");
        const openingSound = document.getElementById('openingSound');
        
        let isOpened = false; 

        // =========================================================
        // 1. FUNGSI HOVER (Menggeser Kartu)
        // =========================================================
        $container
          .on('mouseenter', function () {
            if (!isOpened) {
              $card.stop(true, false).animate( 
                { top: "-90px" }, "slow"
              );
            }
          })
          .on('mouseleave', function () {
            if (!isOpened) {
              $card.stop(true, false).animate(
                { top: "10px" }, "slow"
              );
            }
          });

        // =========================================================
        // 2. FUNGSI CLICK (Layar Penuh)
        // =========================================================
        $heart.on('click', function(e) {
            e.stopPropagation(); 
            
            if (isOpened) return; 
            
            isOpened = true; 

            // ðŸŽµ AUDIO: Putar suara saat tombol diklik
            if (openingSound) {
                openingSound.play().catch(error => {
                    console.log("Audio playback failed:", error);
                });
            }

            // ANTI-GLITCH FIX: Hentikan animasi hover kartu
            $card.stop(true, true); 

            // 1. Matikan animasi hover/up
            $valentines.css('animation', 'none');
            $container.off('mouseenter mouseleave'); 
            
            // 2. Geser kartu keluar dari amplop 
            $card.stop().animate(
              { top: "-90px" },
              500, 
              function() {
                  // 3. Setelah kartu bergeser, kecilkan amplop
                  $valentines.addClass('shrink');
                  
                  // Tampilkan surat layar penuh setelah amplop mengecil
                  setTimeout(function() {
                      $fullscreenLetter.css('display', 'block');
                      setTimeout(function() {
                          $fullscreenLetter.addClass('show');
                      }, 10);
                  }, 1000); 
              }
            );
        });
        
        // PENTING: Pertahankan fungsi klik pada .valentines sebagai fallback/trigger umum
        $valentines.on('click', function() {
             $heart.trigger('click');
        });
      });
    </script>
  </body>
</html>